{"device":"TABLET","widgets":{"Scripting#0":{"t":"Scripting","lX":85,"lY":530,"sX":1,"sY":1,"s":"New Screen 0","ps":{"enabled":false,"scalingType":"OK","width":"12.8%","height":"11.88%","x":"11.01%","y":"62.95%"},"ver":"200124c210519","dis":true,"tt":"","a":{"script type":"javascript","code editor":"//# sourceURL=dynamic-script.js\n/**\n * Description: \n * Create Author/Date: \n * Modified Author/Date Date: \n * Version: \n */\n/*\nconst ecosureDevicesDropdown = Script.getWidget(\"ecosureDevicesDropdown\");\nconst batteryGraph = Script.getWidget(\"batteryGraph\");\nconst ECOSURE_ID = 3;\nvar distribs;\nvar devices = [];/*\n\n/**\n * Initialise script state (run once at startup)\n */\n/*\nScript.on('load', function() {\n\tClient.getTenants(function (tenantData) {\n\t\tdistribs = tenantData.value;\n\t});\n\t\n\tfor (var i = 0;  i < distribs.length; i++) {\n\t\tlet distrib = distribs[i];\n\t\tDevices.manageModels(\"read\", distrib, \"\",\n\t\t\tfunction (modelsData) {\n\t\t\t\tlet models = modelsData.value.data;\n\t\t\t\tfor (var model in models) {\n\t\t\t\t\tDevices.manageDevices(\"read\", distrib, model, function (devData) {\n\t\t\t\t\t\tvar allData = SensaCollection.load(devData.value);\n\t\t\t\t\t\tallData.forEach((record, pk) => {\n\t\t\t\t\t\t\tif (record.account == ECOSURE_ID) {\n\t\t\t\t\t\t\t\t//record.alias\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}, { columns: \"*\"});\n\t\t\t\t}\n\t\t\t},\n\t\t\t{ columns: \"model\" }\n\t\t);\n\t}\n});*/"},"ev":{}},"batteryGraph":{"t":"Graph","lX":40,"lY":50,"sX":8.27,"sY":2.02,"s":"New Screen 0","ps":{"enabled":false,"scalingType":"OK","width":"94.38%","height":"33.61%","x":"4.17%","y":"4.29%"},"ver":"190104c210519","dis":false,"tt":"","a":{"line type":"linear","history timespan":"1000"},"ev":{"serverEvents":{"inputEvents":{"Trap 1108 lat":{"channel":"3/YABBY/TRAP 1108/LAT","event":"history","important":"false","attribs":{"color":"red","area fill":"false","fill opacity":"0.2"}},"Trap 1108 Lon":{"channel":"3/YABBY/TRAP 1108/LON","event":"history","important":"false","attribs":{"color":"blue","area fill":false,"fill opacity":"0.2"}}}}}},"ecosureDevicesDropdown":{"t":"Dropdown","lX":80,"lY":440,"sX":5.4,"sY":1,"s":"New Screen 0","ps":{"enabled":false,"scalingType":"NOVERT","width":"48.96%","height":"4.13%","x":"7.25%","y":"36.33%"},"ver":"190104c210519","dis":false,"tt":"","a":{},"ev":{}},"Input#0":{"t":"Input","lX":260,"lY":545,"sX":4,"sY":1,"s":"New Screen 0","ps":{"enabled":false,"scalingType":"NOVERT","width":"36.26%","height":"4.41%","x":"23.57%","y":"43.77%"},"ver":"270520c210519","dis":false,"tt":"","a":{"label text":"Lat"},"ev":{"serverEvents":{"inputEvents":{"Lat":{"channel":"3/YABBY/TRAP 1108/LAT","event":"feed","important":"false"}}}}},"Input#1":{"t":"Input","lX":270,"lY":605,"sX":4,"sY":1,"s":"New Screen 0","ps":{"enabled":false,"scalingType":"NOVERT","width":"36.26%","height":"4.41%","x":"23.57%","y":"43.77%"},"ver":"270520c210519","dis":false,"tt":"","a":{"label text":"Lon"},"ev":{"serverEvents":{"inputEvents":{"Lon":{"channel":"3/YABBY/TRAP 1108/LON","event":"feed","important":"false"}}}}}},"screens":{"New Screen 0":{"index":0,"icon":"widgets","meta":""}},"meta":""}